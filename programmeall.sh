#!/bin/bash
# Bash script to query a dataset of multiple PMIDs using getpapers
#author Alex Maina - Librarian Kenya Medical Research Institute - Kilifi 14/08/2019

pmids='25783862 25830326 25920355 26063746 26082391 26170395 26275071 26337840 26401272 26541134 26551761
26578625 26633548 26662925 26699537 26699539 26700814 26731245 26738483 26741401 26744416 26766578 26782822
26787721 26793272 26804201 26811918 26830671 26842613 26842657 26844958 26846726 26853149 26883585 26894324
26919757 26927422 26937038 26954551 26962081 26966695 26981628 27013475 27070913 27075879 27077745 27098766
27100128 27109630 27117482 27118984 27151400 27154310 27159235 27170641 27193441 27216095 27221542 27234212
27236921 27237815 27255167 27258530 27265353 27296441 27316548 27324836 27338023 27352303 27353295 27355532
27357072 27391580 27398232 27403940 27439621 27464568 27469941 27471131 27471661 27473186 27484493 27568068
27572968 27603309 27611471 27630231 27650269 27655441 27658948 27660116 27679522 27699954 27716185 27733206
27756388 27758792 27760680 27776500 27777862 27789669 27790201 27795836 27804212 27821186 27837017 27838672
27846837 27851799 27861240 27872512 27873263 27875534 27890694 27891065 27893488 27902331 27914740 27920394
27931229 27942016 27978537 27978839 27979807 27992707 28003285 28024239 28066826 28067620 28072872 28094465
28098528 28104171 28107671 28115470 28122622 28125699 28125996 28137381 28149040 28152987 28153020 28154110
28166779 28179024 28183341 28216189 28241826 28282249 28317139 28345042 28353537 28362869 28362936 28366188
28380073 28381208 28381468 28395836 28399960 28416966 28418293 28424189 28434944 28439338 28445512 28450758
28458916 28459105 28468633 28470840 28493930 28494799 28522690 28528753 28531224 28533773 28555479 28566213
28575354 28575355 28575356 28575357 28575358 28575359 28575360 28575361 28575362 28575363 28575364 28575365
28575366 28575367 28575368 28575369 28575370 28575371 28575372 28575373 28575374 28575375 28576573 28584069
28592303 28609400 28612053 28615005 28627085 28628629 28630942 28646586 28662646 28668230 28670602 28671630
28689664 28691435 28695141 28717383 28723333 28725261 28729018 28731901 28736506 28736507 28739116 28747892
28761767 28771558 28771637 28774873 28784129 28784282 28787002 28789913 28810866 28818071 28819225 28835215
28844412 28845248 28845262 28845270 28845286 28847005 28854372 28877729 28883927 28884158 28899379 28905004
28910280 28911325 28911328 28911332 28911764 28912951 28919115 28919117 28919118 28923070 28924198 28927428
28928185 28931915 28943879 28944299 28944300 28944301 28944990 28966793 28973483 28973672 28974208 28980833
28981505 28992220 29018841 29019978 29020230 29020970 29023138 29028659 29033034 29048509 29062060 29062911
29062916 29062918 29063669 29065854 29074880 29076401 29080284 29081995 29084570 29090271 29090394 29093899
29097339 29098016 29104769 29115961 29117322 29129186 29141606 29146662 29149319 29152596 29162099 29168218
29175225 29177099 29178404 29181450 29181453 29186111 29190300 29206727 29207988 29209590 29212522 29225935
29241618 29244104 29244107 29248090 29259218 29261450 29263883 29276620 29281988 29298303 29304780 29304798 
29316925 29318647 29321011 29324858 29329448 29343225 29347975 29375556 29383331 29387800 29387809 29387998
29389541 29394269 29396220 29402268 29405263 29426307 29434532 29460738 29463264 29472635 29479525 29479527
29479566 29489865 29493591 29495961 29497504 29510713 29511741 29514234 29514235 29514613 29514814 29519240
29523850 29524953 29533163 29548623 29558474 29568621 29570495 29574688 29582728 29588414 29588934 29588948
29588951 29588970 29614069 29616146 29627147 29629190 29635501 29650424 29653915 29658138 29668861 29669709
29690995 29701830 29702700 29719563 29725073 29728116 29734218 29739403 29741740 29750209 29760399 29760577
29767324 29768107 29770117 29770367 29771994 29773516 29783949 29783977 29789804 29790840 29790841 29790845
29806038 29843717 29846599 29862324 29862326 29868219 29868535 29881784 29882508 29893224 29894518 29908383
29925359 29935126 29940950 29946487 29946569 29955820 29971245 29971955 29976204 29980230 29986753 29989036
29996580 29996838 30002921 30012092 30033078 30036382 30037876 30038420 30044834 30053035 30064498 30067811
30074642 30103825 30147944 30157796 30175247 30209185 30214943 30217988 30219845 30224402 30227872 30231887
30257697 30258654 30266874 30271564 30271623 30275421 30280117 30307567 30337597 30339188 30341136 30341233
30345381 30348209 30350770 30357971 30364327 30365213 30371344 30388277 30400890 30415748 30416017 30426557
30452666 30459954 30464856 30466423 30467202 30468392 30476973 30478314 30479560 30482677 30483597 30483602
30486867 30496102 30496103 30496104 30496105 30496106 30496107 30501550 30507391 30513108 30514269 30516123
30517728 30518365 30540808 30542660 30562356 30567603 30576538 30588346 30590046 30590681 30591267 30607370
30619257 30621693 30621756 30628566 30658639 30668136 30686268 30689660 30689775 30696449 30699315 30701251
30714021 30717714 30726279 30729101 30735814 30753251 30759103 30762904 30782936 30784634 30787074 30787300
30807589 30832678 30838664 30841900 30854471 30862316 30879408 30879893 30881324 30882493 30890179 30901050
30906883 30906884 30908499 30921335 30926303 30926893 30938435 30995912 30997163 31000132 31000194 31002067
31002694 31020048 31029139 31095558 31100084 31101811 31126269 31129126 31139450 31168483 31186429 31193460
31194291 31200697 31205735 31223663 31234816 31234940 31240333 31256761 31260501 31280724 31285980 31286096
31289754 31289756 31293898 31295277 31296922 31303524 31308378'

for pmid in $pmids
		do
		getpapers -q EXT_ID:$pmid -a -o pall2016-2019 -x
		echo $pmid
	done

norma --project pall2016-2019/ -i fulltext.xml -o scholarly.html --transform nlm2html

sudo ami2-regex --project pall2016-2019/ -i scholarly.html --r.regex pall2016-2019/REGEXFILE.xml --context 150 150
